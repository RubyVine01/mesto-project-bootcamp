(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){e.classList.add("popup_opened"),document.addEventListener("keydown",n)}function o(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&o(document.querySelector(".popup_opened"))}function r(e){e.disabled=!0}function c(e,t){var o=e.querySelector(t.buttonSelector);r(o),e.querySelectorAll(t.inputSelector).forEach((function(n){n.addEventListener("input",(function(){(function(e,t){e.validity.valid?function(e,t){var o="error-"+e.id;document.getElementById(o).textContent="",e.classList.remove(t.invalidTextClass)}(e,t):function(e,t,o){var n="error-"+e.id;document.getElementById(n).textContent=t,e.classList.add(o.invalidTextClass)}(e,e.validationMessage,t)})(n,t),function(e,t){e.checkValidity()?t.disabled=!1:r(t)}(e,o)}))}))}e.d({},{B:()=>I});var i,p={templateId:"photo-card",cardSelector:".photo-item",likeSelector:".photo-item__like",deleteSelector:".photo-item__delete",cardPhotoSelector:".photo-item__photo",photoDiscriptionSelector:".photo-item__discription",popupPhotoId:"popup-view-photo",likeActiveClass:"photo-item__like-active"},u=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__author-name"),l=document.querySelector(".profile__about-author"),a=document.getElementById("popup-edit-profile"),s=document.getElementById("input-name"),m=document.getElementById("input-about-author"),v=a.querySelector(".popup__form"),f=document.querySelector(".profile__add-button"),y=document.getElementById("popup-add-photo"),_=y.querySelector(".popup__form"),h=document.getElementById("input-photo-name"),S=document.getElementById("input-photo-link"),k=document.querySelector(".save_card"),E=document.querySelector(".photo-place__list"),g=document.getElementById("popup-view-photo"),q=g.querySelector(".popup__photo-image"),b=g.querySelector(".popup__photo-description"),x=document.querySelectorAll(".popup");function L(e,t){var o=t.innerText;e.setAttribute("value",o)}function I(e,o,n){e.addEventListener("click",(function(){q.src=o,q.alt=n,b.textContent=n,t(g)}))}function B(e,t){E.prepend(function(e,t,o){var n=document.getElementById(o.templateId).content.querySelector(o.cardSelector).cloneNode(!0),r=n.querySelector(o.likeSelector),c=n.querySelector(o.deleteSelector),i=n.querySelector(o.cardPhotoSelector);return n.querySelector(o.photoDiscriptionSelector).textContent=e,i.src=t,i.alt=e,r.addEventListener("click",(function(e){return e.target.classList.toggle(o.likeActiveClass)})),c.addEventListener("click",(function(){return n.remove()})),I(i,t,e),n}(e,t,p))}document.querySelectorAll(".popup__button-close").forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return o(t)}))})),x.forEach((function(e){!function(e){e.addEventListener("mousedown",(function(t){t.target===e&&o(e)}))}(e)})),u.addEventListener("click",(function(){t(a),L(s,d),L(m,l)})),f.addEventListener("click",(function(){t(y),r(k)})),v.addEventListener("submit",(function(e){e.preventDefault();var t=s.value,n=m.value;d.textContent=t,l.textContent=n,o(a)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return B(e.name,e.link)})),_.addEventListener("submit",(function(e){e.preventDefault(),B(h.value,S.value),o(y),_.reset()})),i={inputSelector:".popup__input-text",buttonSelector:".popup__button-save",formSelector:".popup__form",invalidTextClass:"popup__input-text_invalid"},document.querySelectorAll(i.formSelector).forEach((function(e){c(e,i)}))})();